(this["webpackJsonpversa-time"]=this["webpackJsonpversa-time"]||[]).push([[3],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(1),c=(n(0),n(73)),a=n(84),s=n.n(a),i=n(68),o=n.n(i),u=n(131),l=n(61),d=n(49),h=Object(l.a)((function(){return{root:{display:"flex",gap:15,padding:15,width:"auto",position:"fixed",bottom:25,left:25,marginTop:5,marginBotton:20,alignItems:"center"},success:{backgroundColor:"#357a38"},error:{alignItems:"center",backgroundColor:"red"},text:{alignItems:"center",color:"white"}}})),j=function(e){var t=h(),n=e.error?"".concat(t.root," ").concat(t.error):"".concat(t.root," ").concat(t.success);return Object(r.jsxs)(c.a,{elevation:1,className:n,children:[e.error&&Object(r.jsx)(o.a,{style:{color:"white"}}),!e.error&&Object(r.jsx)(s.a,{style:{color:"white"}}),Object(r.jsx)(d.a,{className:t.text,children:e.text}),Object(r.jsx)(u.a,{size:"small",onClick:e.clear,children:Object(r.jsx)(o.a,{style:{marginLeft:"auto",color:"#E0E0E0"}})})]})}},116:function(e,t,n){},118:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),s=n(14),i=n.n(s),o=(n(116),n(17)),u=n(11),l=n.n(u),d=n(21),h=n(39),j=n(45),f=n(46),b=n(48),m=n(47),x=n(64),p=(n(118),n(153)),O=n(154),g=n(131),S=n(92),v=n.n(S),y=n(158),w=n(62),N=n(91),k=n.n(N),C=n(61),R=n(49),M=n(20),A=n.p+"static/media/Logo-Alone.2a89a103.ico",D=n(73),I=n(152),z=Object(C.a)((function(e){return{menuBar:{flexGrow:1,display:"flex",flexDirection:"column",paddingTop:75,padding:15,overflowY:"hidden",zIndex:10,gap:1,backgroundColor:"white",positon:"relative",width:"auto",height:"100%",overflowX:"hidden"},appBar:{display:"flex",backgroundColor:"#36435c",zIndex:11},menuItem:{textAlign:"left",userSelect:"none",padding:"2px",width:"100%"},linkStyle:{textDecoration:"none",color:"black",width:"100%",height:"100%"},toolBar:{display:"flex",gap:10},currentRoute:{backgroundColor:"#c9c9c9",width:"100%"},img:{height:48,width:48,"& img":{height:"auto",widht:"auto",maxHeight:"100%",maxWidth:"100%"}},transitionContainer:{display:"flex",zIndex:1,flexGrow:1,width:"auto",position:"fixed",alignSelf:"stretch"},item:{fontSize:18,display:"flex",gap:5},userMenu:{position:"absolute",zIndex:11,right:20},brandLink:{textDecoration:"none",display:"flex",gap:15,alignItems:"center",justifyContent:"center",color:"white"}}})),L=function(e){var t=z();return Object(r.jsx)("div",{className:t.img,children:Object(r.jsx)("img",{src:A,alt:"Logo"})})},B=function(e){var t=z();return Object(r.jsx)(w.a,{width:1,children:Object(r.jsxs)(M.b,{to:"/",className:t.brandLink,children:[Object(r.jsx)(L,{}),Object(r.jsx)(R.b,{children:"VersaTime"})]})})},T=function(e){var t=z(),n=Object(c.useState)(),a=Object(x.a)(n,2),s=a[0],i=a[1];return Object(r.jsx)("div",{className:t.transitionContainer,children:Object(r.jsx)(I.a,{direction:"right",in:e.isOpen,children:Object(r.jsx)(D.a,{className:t.menuBar,children:e.routes.map((function(e,n){var c=n==s?t.currentRoute:"";return Object(r.jsx)("div",{onClick:function(e){return function(e){i(e)}(n)},className:t.menuItem,children:Object(r.jsx)(M.b,{to:e.path,className:t.linkStyle,children:Object(r.jsxs)(y.a,{className:t.item+" "+c,children:[e.icon," ",e.text]})})},n)}))})})})};function E(e){var t=Object(c.useState)(!1),n=Object(x.a)(t,2),a=n[0],s=n[1],i=z(),o=function(e){s(!a)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(k.a,{fontSize:"large",onClick:o}),a&&Object(r.jsxs)(D.a,{className:i.userMenu,children:[Object(r.jsx)(M.b,{to:"/addUser",className:i.linkStyle,children:Object(r.jsx)(y.a,{onClick:o,children:"Add User"})}),Object(r.jsx)(M.b,{to:"/myAccount",className:i.linkStyle,children:Object(r.jsx)(y.a,{onClick:o,children:"My Account"})}),Object(r.jsx)(y.a,{onClick:function(){fetch("/user/logout",{method:"POST",redirect:"follow"}).then((function(e){e.redirected&&(window.location.href=e.url)})).catch((function(e){}))},children:"Logout"})]})]})}var P=function(e){var t=z();return Object(r.jsx)(p.a,{position:"fixed",className:t.appBar,children:Object(r.jsxs)(O.a,{className:t.toolBar,children:[Object(r.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.handleMenuButton,children:Object(r.jsx)(v.a,{})}),Object(r.jsx)(B,{}),Object(r.jsx)(E,{})]})})},F=n(72),G=n(93),U=n.n(G),W=n(94),Y=n.n(W),_=n(95),H=n.n(_),J=n(96),V=n.n(J),X=n(97),q=n.n(X),K=n(26),Q=n(155),Z=n(32),$=(n(102),function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).fetchRMARecent=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/rmas/recent/6").then((function(e){if(e.ok)return e.json();e.json().then((function(e){return r.setState({message:{text:e.msg,error:!0}})}))})).then((function(e){e&&r.setState({recentRmas:e})})).catch((function(e){r.setState({message:{error:!0,text:e.message}})}));case 1:case"end":return e.stop()}}),e)}))),r.fetchOrderRecent=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/orders/recent/6").then((function(e){if(e.ok)return e.json();e.json().then((function(e){return r.setState({message:{error:!0,text:e.msg}})}))})).then((function(e){e&&r.setState({recentOrders:e})})).catch((function(e){r.setState({message:{error:!0,text:e.msg}})}));case 1:case"end":return e.stop()}}),e)}))),r.fetchSerialRecent=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/serials/recent/6").then((function(e){if(e.ok)return e.json();e.json().then((function(e){return r.setState({message:{error:!0,text:e.msg}})}))})).then((function(e){e&&r.setState({recentSerials:e})})).catch((function(e){r.setState({message:{error:!0,text:e.msg}})}));case 1:case"end":return e.stop()}}),e)}))),r.state={recentRmas:null,recentOrders:null,recentSerials:null,message:null},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.fetchOrderRecent(),this.fetchSerialRecent(),this.fetchRMARecent()}},{key:"render",value:function(){var e=this.state,t=e.recentSerials,n=e.recentOrders,c=e.recentRmas,a=this.props,s=a.user,i=a.customers,o=a.products;return Object(r.jsxs)(K.a,{children:[s&&Object(r.jsxs)(F.a,{variant:"h5",children:["Hello ",s.username,"!"]}),n&&Object(r.jsxs)(K.c,{children:[Object(r.jsx)(F.a,{variant:"h5",children:"Recent Orders"}),Object(r.jsx)(Z.a,{children:n.map((function(e){var t=i.find((function(t){return t._id===e.customerId})),n=new Date(e.orderDate);return Object(r.jsx)(Q.a,{style:{textTransform:"none"},children:Object(r.jsx)(M.b,{style:{textDecoration:"none"},to:{pathname:"/SalesOrders",state:{orderNumber:e.orderNumber}},children:Object(r.jsx)(Z.b,{children:["Order: "+e.orderNumber,t.customerName,n.getMonth()+"/"+n.getDay()+"/"+n.getFullYear()]})})})}))})]}),c&&Object(r.jsxs)(K.c,{children:[Object(r.jsx)(F.a,{variant:"h5",children:"Recent RMAs"}),Object(r.jsx)(Z.a,{children:c.map((function(e){var t=i.find((function(t){return t._id===e.customerId})),n=new Date(e.RMADate);return Object(r.jsx)(Q.a,{style:{textTransform:"none"},children:Object(r.jsx)(M.b,{style:{textDecoration:"none"},to:{pathname:"/RMAs",state:{RMANumber:e.RMANumber}},children:Object(r.jsx)(Z.b,{children:["RMANumber "+e.RMANumber,t.customerName,n.getMonth()+"/"+n.getDay()+"/"+n.getFullYear()]})})})}))})]}),t&&Object(r.jsxs)(K.c,{children:[Object(r.jsx)(F.a,{variant:"h5",children:"Recent Serials"}),Object(r.jsx)(Z.a,{children:t.map((function(e,t){return Object(r.jsx)(Q.a,{style:{textTransform:"none"},children:Object(r.jsx)(M.b,{style:{textDecoration:"none"},to:{pathname:"/SerialNumbers",state:{RMANumber:e.serialNumber}},children:Object(r.jsx)(Z.b,{children:["SN: "+e.serialNumber,i.find((function(t){return t._id===e.customerId})).customerName,o.find((function(t){return t.productId===e.productId})).productName]})})})}))})]})]})}}]),n}(a.a.Component)),ee=n(156),te=n(9),ne=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8),n.e(7)]).then(n.bind(null,277))})),re=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,278))})),ce=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,279))})),ae=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(9)]).then(n.bind(null,280))})),se=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,267))})),ie=a.a.lazy((function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,268))})),oe=[{path:"/SalesOrders",text:"Sales Orders",icon:Object(r.jsx)(U.a,{fontSize:"large"})},{path:"/SerialNumbers",text:"Serial Numbers",icon:Object(r.jsx)(Y.a,{fontSize:"large"})},{path:"/RMAs",text:"RMA",icon:Object(r.jsx)(H.a,{fontSize:"large"})},{path:"/Shipping",text:"Shipping",icon:Object(r.jsx)(V.a,{fontSize:"large"})},{path:"/Customers",text:"Customers",icon:Object(r.jsx)(q.a,{fontSize:"large"})}],ue=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).updateCustomers=function(e){r.setState((function(t){return{customers:[].concat(Object(h.a)(t.customers),[e])}}))},r.updateOrders=function(e){r.setState((function(t){return{orders:[].concat(Object(h.a)(t.orders),[e])}}))},r.updateRMA=function(e){r.setState((function(t){return{rmas:[].concat(Object(h.a)(t.rmas),[e])}}))},r.updateSerials=function(e){r.setState((function(t){return{serials:[].concat(Object(h.a)(t.serials),[e])}}))},r.getUser=function(){fetch("/user/userInfo").then((function(e){if(e.ok)return e.json();console.log(e)})).then((function(e){e&&r.setState({user:e})})).catch((function(e){return console.log(e.toString())}))},r.fetchRMAs=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/rmas").then((function(e){if(e.ok)return e.json();r.setState({error:{message:"Error Loading RMAs"}})})).then((function(e){return r.setState({rmas:e})})).catch((function(e){return r.setState({error:e})}));case 1:case"end":return e.stop()}}),e)}))),r.fetchCustomers=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/customers").then((function(e){if(200===e.status)return e.json();r.setState({error:{message:"Error Loading Customers"}})})).then((function(e){return r.setState({customers:e})})).catch((function(e){return r.setState({error:e})}));case 1:case"end":return e.stop()}}),e)}))),r.fetchProducts=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/products").then((function(e){if(200===e.status)return e.json();r.setState({error:{message:"Error Loading Products"}})})).then((function(e){return r.setState({products:e})})).catch((function(e){return r.setState({error:e})}));case 1:case"end":return e.stop()}}),e)}))),r.fetchOrders=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/orders").then((function(e){if(200===e.status)return e.json();r.setState({error:{message:"Error Loading Orders"}})})).then((function(e){return r.setState({orders:e})})).catch((function(e){return r.setState({error:e})}));case 1:case"end":return e.stop()}}),e)}))),r.fetchSerials=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/serials").then((function(e){if(200===e.status)return e.json();r.setState("Error Loading Serials")})).then((function(e){return r.setState({serials:e})})).catch((function(e){return r.setState({error:e})}));case 1:case"end":return e.stop()}}),e)}))),r.handleMenuButton=function(){r.setState((function(e){return{menuOpen:!e.menuOpen}}))},r.state={customers:null,products:null,orders:null,serials:null,rmas:null,user:null,menuOpen:!0,error:null},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getUser(),this.fetchCustomers(),this.fetchProducts(),this.fetchOrders(),this.fetchSerials(),this.fetchRMAs()}},{key:"render",value:function(){var e=this,t=this.state,n=t.menuOpen,a=t.customers,s=t.error,i=t.products,u=t.orders,l=t.serials,d=t.user,h=t.rmas;this.props.classes;return Object(r.jsx)(M.a,{children:Object(r.jsxs)(K.e,{children:[Object(r.jsx)(P,{handleMenuButton:this.handleMenuButton}),Object(r.jsx)(T,{isOpen:n,routes:oe}),Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading"}),children:Object(r.jsx)(te.c,{children:Object(r.jsxs)(K.d,{children:[(!a||!l||!u||!i||!h||!d)&&Object(r.jsxs)(w.a,{display:"flex",flexDirection:"column",style:{marginLeft:"auto",marginRight:"auto",marginTop:150,alignItems:"center",gap:20},children:[Object(r.jsx)(F.a,{children:"Loading"}),Object(r.jsx)(ee.a,{size:150})]}),Object(r.jsxs)(K.b,{children:[s&&Object(r.jsx)("div",{style:{paddingTop:200},children:s.message}),a&&l&&u&&i&&h&&d&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(te.a,{exact:!0,path:"/",children:Object(r.jsx)($,{user:d,customers:a,products:i})}),Object(r.jsx)(te.a,{path:"/SalesOrders",render:function(t){return Object(r.jsx)(ne,Object(o.a)(Object(o.a)({},t),{},{order:t.order,orders:u,products:i,customers:a,updateOrders:e.updateOrders,updateSerials:e.updateSerials}))}}),Object(r.jsx)(te.a,{path:"/SerialNumbers",render:function(t){return Object(r.jsx)(re,Object(o.a)(Object(o.a)({},t),{},{products:i,serials:l,customers:a,orders:u,rmas:h,updateRoot:e.updateSerials}))}}),Object(r.jsx)(te.a,{path:"/RMAs",render:function(t){return Object(r.jsx)(ce,Object(o.a)(Object(o.a)({},t),{},{updateRoot:e.updateRMA,customers:a,products:i,serials:l,rmas:h}))}}),Object(r.jsx)(te.a,{path:"/Shipping",render:function(e){return Object(r.jsx)(ae,Object(o.a)(Object(o.a)({},e),{},{customers:a,products:i,serials:l,orders:u,rmas:h}))}}),Object(r.jsx)(te.a,{path:"/Customers",render:function(t){return Object(r.jsx)(se,Object(o.a)(Object(o.a)({},t),{},{customers:a,onUpdate:e.updateCustomers}))}})]})]}),Object(r.jsx)(te.a,{path:"/addUser",component:ie})]})})})]})})}}]),n}(a.a.Component),le=function(e){e&&e instanceof Function&&n.e(14).then(n.bind(null,269)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};i.a.render(Object(r.jsx)(ue,{}),document.getElementById("root")),le()},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(1),c=(n(0),n(61)),a=n(62),s=Object(c.a)((function(){return{display:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"middle",paddingTop:60,flexGrow:1,gap:40},pageContent:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},page:{display:"flex",flexDirection:"row"},root:{flexGrow:1},displayContainer:{display:"flex",justifyContent:"center",flexGrow:1,backgroundColor:"white",position:"absolute",maxWidth:900,zIndex:0,padding:"30px 50px 30px 50px",marginRight:"auto",marginLeft:"auto",left:0,right:0,border:"1px solid #E0E0E0",height:"auto"}}}));function i(e){var t=s();return Object(r.jsx)("div",{className:t.display,children:e.children})}function o(e){var t=s();return Object(r.jsx)("div",{className:t.displayContainer,children:e.children})}function u(e){var t=s();return Object(r.jsx)("div",{className:t.root,children:e.children})}function l(e){var t=s();return Object(r.jsx)("div",{className:t.page,children:e.children})}function d(e){return Object(r.jsx)(a.a,{display:"flex",flexDirection:"column",style:{gap:15},children:e.children})}},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n(1),c=n(61),a=n(72),s=n(73),i=n(0),o=n.n(i),u=n(62),l=Object(c.a)((function(){return{root:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:15},child:{display:"flex",flexDirection:"column",width:250,height:120},contents:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:7,margin:10},text:{fontSize:15,color:"gray"},title:{backgroundColor:"#eceef7",paddingTop:8,paddingLeft:8,paddingBottom:8,display:"flex",color:"#3f51b5"}}}));function d(e){var t=l();return Object(r.jsxs)(s.a,{className:t.child,elevation:2,width:1,children:[Object(r.jsx)(u.a,{className:t.title,children:Object(r.jsx)("b",{children:e.children[0]})}),Object(r.jsx)(u.a,{className:t.contents,width:1,children:o.a.Children.map(e.children,(function(e,n){return n>0?Object(r.jsx)(a.a,{className:t.text,children:e},n):null}))})]})}function h(e){var t=l();return Object(r.jsx)(u.a,{className:t.root,width:1,children:e.children})}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(1),c=n(72),a=n(61),s=Object(a.a)((function(e){return{title:{flexGrow:1,userSelect:"none"},text:{flexGrow:1}}})),i=function(e){var t=s(),n=e.className?" "+e.className:"";return Object(r.jsx)(c.a,{variant:"body1",className:t.text+n,children:e.children})},o=function(e){var t=s(),n=e.variant?e.variant:"h6",a=e.className?" "+e.className:"";return Object(r.jsx)(c.a,{variant:n,className:t.title+a,children:e.children})}}},[[129,4,5]]]);
//# sourceMappingURL=main.823c2129.chunk.js.map